# 问题
这里我们用gym中的taxi问题作为例子，来展示时序差分方法（TD）的能力，根据不同版本可以使用taxi-v2或taxi-v3。
有 4 个地点（用不同的字母标记），任务是在一个地点接乘客并在另一个地点下车。如果成功下车，将获得 +20 分，并且每花费一个时间步长就会失去 1 分。非法接送行为也将被扣 10 分。

有不同的动作，四个方向和上下车，R(ed) ， G(reen)、Y(ellow) 和 B(lue)表示的网格世界中有四个指定位置。

出租车开始在一个随机的广场，乘客在一个随机的位置。出租车开车到乘客的位置，接乘客，开车到乘客的目的地（四个指定位置中的另一个），以及 然后下车。
# 代码
这里采用时序差分方法来解决上述问题，上一次提到的蒙特卡洛方法需要从头到尾走完一条路才能进行计算，效率很低，执行起来需要消耗大量时间，而TD是通过往前看一步或者多步，使得不需要走完整条路。

文件中sarsa.py中包含两个函数
* sarsa()表示TD(0)，即往前看一步，其policy和值函数q的结果存储在policy_q_sarsa.pickle，
* sarsa_lambda()表示将不同步数结合求均值后的方法，其policy和值函数q的结果存储在policy_q_sarsa_lambda.pickle，
* 可以运行test.py，采用这里的文件进行测试。

运行过程中，sarsa()消耗时间较少，sarsa_lambda消耗时间较多，因为在更新时需要遍历所有的状态和动作。

# 结果
这里将结果整理成了一个gif，方便大家理解

![图1](https://github.com/dqdallen/RLstudy/blob/main/TD/sarsa_lambda_result.gif)
